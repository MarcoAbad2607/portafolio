<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ICT Ticket Fallas — Portafolio</title>
  <meta name="description" content="Caso completo: ICT Ticket Fallas. Tecnologías, arquitectura, procedimiento, resultados y aprendizajes." />
  <link rel="icon" href="../img/favicon.ico">
  <style>
    /* === Paleta base (igual al index) === */
    :root{
      --bg:#0b1220; --panel:#0f172a; --ink:#e6edf3; --muted:#98a2b3; --line:#22314c;
      --acc:#22d3ee; --acc-2:#a78bfa; --warn:#f59e0b; --ok:#34d399;
      /* Variables específicas para bloques de código/botón copiar */
      --code-bg:#0b1220; --code-ink:#d1e7ff; --copy-bg:rgba(255,255,255,.06); --copy-ink:var(--ink);
    }
    *{box-sizing:border-box}
    html{height:100%;scroll-behavior:smooth}
    body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;background:var(--bg);color:var(--ink)}
    a{color:var(--acc);text-decoration:none}
    a:hover{text-decoration:underline}
    img{max-width:100%;display:block}
    .wrap{max-width:1200px;margin:0 auto;padding:0 20px}

    /* Header minimal */
    header{position:sticky;top:0;z-index:50;background:rgba(11,18,32,.6);backdrop-filter:blur(10px);border-bottom:1px solid var(--line)}
    nav{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.3px}
    .brand .dot{width:10px;height:10px;border-radius:50%;background:linear-gradient(90deg,var(--acc),var(--acc-2))}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;background:var(--acc);color:#05131e;font-weight:700;border:none}
    .btn.ghost{background:transparent;border:1px solid var(--line);color:var(--ink)}
    .mode{background:transparent;border:1px solid var(--line);color:var(--ink);padding:6px 10px;border-radius:10px;margin-left:8px}

    /* Hero */
    .hero{position:relative;overflow:hidden}
    .hero .inner{display:grid;gap:24px;grid-template-columns:1.1fr .9fr;align-items:center;padding:36px 0 12px}
    .title{font-size:clamp(28px,4.5vw,48px);line-height:1.1;margin:0}
    .lead{color:var(--muted);margin:0}
    .cta{display:flex;gap:12px;flex-wrap:wrap;margin-top:10px}
    .blob{position:absolute;inset:-20% auto auto -10%;width:60vw;height:60vw;filter:blur(80px);background:
      radial-gradient(circle at 30% 30%,rgba(34,211,238,.25),transparent 60%),
      radial-gradient(circle at 70% 60%,rgba(167,139,250,.22),transparent 60%);pointer-events:none}
    .avatar{width:140px;height:140px;border-radius:12px;border:2px solid var(--line);background:#0b1220;margin-left:auto;object-fit:cover}

    /* Secciones */
    section{padding:28px 0;scroll-margin-top:80px}
    h2{font-size:22px;margin:0 0 12px}
    .muted{color:var(--muted)}
    .panel{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:16px}

    .row{display:flex;flex-wrap:wrap;gap:8px}
    .tag{font-size:12px;color:var(--muted);border:1px solid var(--line);padding:6px 8px;border-radius:8px}
    .grid{display:grid;gap:16px}
    .cards{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}
    .card{background:var(--panel);border:1px solid var(--line);border-radius:16px;overflow:hidden}
    .card img{width:100%;height:280px;object-fit:cover}

    /* Breadcrumb estilizado */
    .crumbs{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--muted)}
    .crumbs .sep{opacity:.5}
    .crumbs a,
    .crumbs span[aria-current="page"]{
      display:inline-flex;align-items:center;gap:6px;
      padding:6px 12px;border:1px solid var(--line);border-radius:999px;
      background:var(--panel);color:var(--ink);text-decoration:none;
    }
    .crumbs a:hover{filter:brightness(1.1);text-decoration:none}

    /* TOC opcional */
    .toc{background:var(--panel);border:1px solid var(--line);border-radius:12px;padding:12px}
    .toc a{display:block;color:var(--ink);padding:6px 4px}
    .toc a:hover{text-decoration:none}

    /* Procedimiento (steps) */
    .steps{display:grid;gap:16px}
    @media(min-width:900px){.steps{grid-template-columns:1fr 1fr}}
    .step{position:relative;background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:16px}
    .step h3{margin:0 0 8px;font-size:18px}
    .step p{margin:0 0 10px;color:var(--muted)}
    .step .figure{margin-top:10px;border:1px solid var(--line);border-radius:10px;overflow:hidden}
    .step .figure figcaption{font-size:12px;color:var(--muted);padding:8px 10px;border-top:1px solid var(--line);background:rgba(255,255,255,.02)}
    .step::before{
      counter-increment: paso;
      content: counter(paso);
      position:absolute;top:-10px;left:-10px;
      width:28px;height:28px;border-radius:50%;
      background:linear-gradient(90deg,var(--acc),var(--acc-2));
      color:#05131e;font-weight:900;display:flex;align-items:center;justify-content:center;
      box-shadow:0 6px 14px rgba(0,0,0,.25);
    }
    body{counter-reset: paso}

    /* Código + botón copiar con variables de tema */
    pre{position:relative;background:var(--code-bg);border:1px solid var(--line);border-radius:10px;padding:12px;overflow:auto}
    code{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;font-size:13px;color:var(--code-ink)}
    .copy{position:absolute;right:8px;top:8px;border:1px solid var(--line);
      background:var(--copy-bg);color:var(--copy-ink);padding:6px 10px;border-radius:8px;cursor:pointer}

    /* Footer y utilidades */
    footer{padding:28px 0 48px;color:var(--muted);border-top:1px solid var(--line)}
    #toTop{position:fixed;right:16px;bottom:16px;display:none;align-items:center;gap:6px;padding:10px 12px;border-radius:999px;border:1px solid var(--line);background:rgba(15,23,42,.75);color:var(--ink)}
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="wrap">
      <nav>
        <div class="brand"><span class="dot"></span> <span>Marco A. Muñiz — Proyecto</span></div>
        <div style="display:flex;align-items:center;gap:8px">
          <a class="btn ghost" href="../index.html#proyectos">← Volver</a>
          <button id="mode" class="mode" aria-label="Tema">☀️</button>
        </div>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <div class="hero">
    <div class="blob" aria-hidden="true"></div>
    <div class="wrap inner">
      <div>
        <span class="chip" style="border-radius:999px;padding:6px 10px;border:1px solid var(--line);color:var(--muted);display:inline-block">Proyecto</span>
        <h1 class="title">ICT Ticket Fallas</h1>
        <p class="lead">ICT: Disminución de tiempos de análisis con tickets de falla automáticos.</p>
        <div class="cta">
          <a class="btn" href="../index.html#proyectos">← Volver</a>
          <!-- Cambia esta URL si tienes repo público -->
          <a class="btn ghost" href="https://github.com/tuusuario/tu-repo" target="_blank" rel="noopener">Ver en GitHub</a>
        </div>
      </div>
      <div>
        <img class="avatar" alt="Imagen del proyecto" src="../img/ICT-proyecto1-main.png" />
      </div>
    </div>
  </div>

  <!-- Breadcrumb + TOC -->
  <div class="wrap" style="margin-top:10px">
    <nav class="crumbs" aria-label="breadcrumb">
      <a href="../index.html">Inicio</a>
      <span class="sep">›</span>
      <a href="../index.html#proyectos">Proyectos</a>
      <span class="sep">›</span>
      <span aria-current="page">ICT Ticket Fallas</span>
    </nav>
    <div class="toc" style="margin-top:12px">
      <strong>Contenido</strong>
      <a href="#resumen">Resumen</a>
      <a href="#arquitectura">Arquitectura</a>
      <a href="#procedimiento">Procedimiento</a>
      <a href="#galeria">Galería</a>
      <a href="#detalles">Detalles técnicos</a>
      <a href="#resultados">Resultados</a>
    </div>
  </div>

  <!-- Main -->
  <main class="wrap">
    <!-- Resumen -->
    <section id="resumen">
      <h2>Resumen</h2>
      <div class="panel">
        <p>Describe el problema, tu solución, restricciones y el impacto (ej. mejora de FPY, reducción de MTTR, integración con MES/IMES, etc.).</p>
        <div class="row" style="margin-top:8px">
          <span class="tag">ASP.NET</span><span class="tag">WPF</span><span class="tag">SQL Server</span><span class="tag">REST</span><span class="tag">ICT/FCT</span>
        </div>
      </div>
    </section>

    <!-- Arquitectura -->
    <section id="arquitectura">
      <h2>Arquitectura</h2>
      <div class="grid cards">
        <div class="card"><img src="../img/arquitectura_1.png" alt="Arquitectura general"></div>
        <div class="card"><img src="../img/flujo_datos_1.png" alt="Flujo de datos"></div>
      </div>
    </section>

    <!-- Procedimiento -->
    <section id="procedimiento">
      <h2>Procedimiento realizado</h2>
      <p class="muted">Documenta el paso a paso con imágenes, fragmentos de código y notas.</p>

      <div class="steps">
        <!-- Paso 1 -->
        <article class="step">
          <h3>Paso 1 — Preparación del entorno</h3>
          <p>Instalación de dependencias, configuración de cadenas de conexión y variables de entorno.</p>
          <pre><button class="copy" aria-label="Copiar">Copiar</button><code>
// appsettings.json (ejemplo)
{
  "ConnectionStrings": {
    "SqlServer": "Server=.;Database=Trazabilidad;Trusted_Connection=True;Encrypt=False"
  },
  "Mes": { "BaseUrl": "https://mes.local/api", "Token": "..." }
}
          </code></pre>
          <figure class="figure">
            <img src="../img/paso1.png" alt="Configuración del proyecto" />
            <figcaption>Figura 1. Configuración inicial.</figcaption>
          </figure>
        </article>

        <!-- Paso 2 -->
        <article class="step">
          <h3>Paso 2 — Diseño de endpoints</h3>
          <p>Definición de endpoints para lectura/escritura de trazabilidad y validación de seriales.</p>
          <pre><button class="copy" aria-label="Copiar">Copiar</button><code>
// Ejemplo C# (cliente REST)
using var http = new HttpClient{ BaseAddress = new Uri(baseUrl) };
http.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
var resp = await http.PostAsJsonAsync("/imes/validate", new { serial });
          </code></pre>
          <figure class="figure">
            <img src="../img/paso2.png" alt="Diagrama de endpoints" />
            <figcaption>Figura 2. Diagrama de endpoints MES/IMES.</figcaption>
          </figure>
        </article>

        <!-- Paso 3 -->
        <article class="step">
          <h3>Paso 3 — Integración con ICT/FCT</h3>
          <p>Consumo de resultados de test, generación de tickets automáticos y envío a Andon.</p>
          <pre><button class="copy" aria-label="Copiar">Copiar</button><code>
// Pseudocódigo: generador de tickets
if (test.Fail) {
  var ticket = BuildTicket(test);
  Save(ticket); NotifyAndon(ticket);
}
          </code></pre>
          <figure class="figure">
            <img src="../img/paso3.png" alt="Evidencia de integración con ICT" />
            <figcaption>Figura 3. Integración con ICT.</figcaption>
          </figure>
        </article>
      </div>
    </section>

    <!-- Galería -->
    <section id="galeria">
      <h2>Galería</h2>
      <div class="grid cards">
        <div class="card"><img src="../img/captura_1.png" alt="Captura 1"></div>
        <div class="card"><img src="../img/captura_2.png" alt="Captura 2"></div>
        <div class="card"><img src="../img/captura_3.png" alt="Captura 3"></div>
      </div>
    </section>

    <!-- Detalles técnicos -->
    <section id="detalles">
      <h2>Detalles técnicos</h2>
      <div class="panel">
        <ul>
          <li>Lenguajes/Frameworks: C#, ASP.NET, WPF (MVVM), SQL Server/SQLite.</li>
        </ul>
        <ul>
          <li>Integraciones: Endpoints REST con MES/IMES, Testplan ICT Keysight.</li>
        </ul>
        <ul>
          <li>Testing: ICT/FCT, SPC, validación de <em>fixtures</em>, golden units.</li>
        </ul>
        <ul>
          <li>Observabilidad: logs, métricas (MTTR/MTBF), dashboard Andon.</li>
        </ul>
      </div>
    </section>

    <!-- Resultados -->
    <section id="resultados">
      <h2>Resultados</h2>
      <div class="panel">
        <p>Ejemplos: +X% FPY, –Y% MTTR, –Z% scrap, ahorro de N horas/semana con automatizaciones.</p>
      </div>
    </section>
  </main>

  <!-- Botón subir -->
  <div id="toTop">▲ Arriba</div>

  <!-- Footer -->
  <footer>
    <div class="wrap">© <span id="year"></span> Marco Antonio Muñiz Abad · Hecho con HTML/CSS/JS · Publicado en GitHub Pages</div>
  </footer>

  <script>
    // Año dinámico
    document.getElementById('year').textContent = new Date().getFullYear();

    // Tema: por defecto CLARO; respeta preferencia guardada
    const modeBtn = document.getElementById('mode');
    function applyTheme(isDark){
      // colores generales
      document.documentElement.style.setProperty('--bg', isDark?'#0b1220':'#f8fafc');
      document.documentElement.style.setProperty('--panel', isDark?'#0f172a':'#ffffff');
      document.documentElement.style.setProperty('--ink', isDark?'#e6edf3':'#0b1220');
      document.documentElement.style.setProperty('--muted', isDark?'#98a2b3':'#475569');
      document.documentElement.style.setProperty('--line', isDark?'#22314c':'#cbd5e1');

      // colores específicos de código/botón copiar
      if(isDark){
        document.documentElement.style.setProperty('--code-bg', '#0b1220');
        document.documentElement.style.setProperty('--code-ink', '#d1e7ff');
        document.documentElement.style.setProperty('--copy-bg', 'rgba(255,255,255,.06)');
        document.documentElement.style.setProperty('--copy-ink', '#e6edf3');
      }else{
        // en modo claro, ponemos bloque de código oscuro para máximo contraste
        document.documentElement.style.setProperty('--code-bg', '#0f172a');
        document.documentElement.style.setProperty('--code-ink', '#e6edf3');
        document.documentElement.style.setProperty('--copy-bg', 'rgba(0,0,0,.5)');
        document.documentElement.style.setProperty('--copy-ink', '#ffffff');
      }

      document.documentElement.dataset.theme = isDark?'dark':'light';
      if (modeBtn) modeBtn.textContent = isDark?'🌙':'☀️';
    }
    (function initTheme(){
      const saved = localStorage.getItem('theme');
      const isDark = saved ? (saved === 'dark') : false; // default claro
      applyTheme(isDark);
    })();
    if (modeBtn){
      modeBtn.addEventListener('click', ()=>{
        const nowDark = (document.documentElement.dataset.theme !== 'dark');
        applyTheme(nowDark);
        localStorage.setItem('theme', nowDark ? 'dark' : 'light');
      });
    }

    // Botón subir
    const toTop = document.getElementById('toTop');
    window.addEventListener('scroll', ()=>{
      if (toTop) toTop.style.display = window.scrollY>500 ? 'inline-flex' : 'none';
    });
    if (toTop) toTop.addEventListener('click', ()=>window.scrollTo({top:0,behavior:'smooth'}));

    // Copiar código
    document.querySelectorAll('pre .copy').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const code = btn.nextElementSibling.innerText;
        navigator.clipboard.writeText(code).then(()=>{
          const prev = btn.textContent;
          btn.textContent = 'Copiado ✓';
          setTimeout(()=>btn.textContent = prev, 1200);
        });
      });
    });
  </script>
</body>
</html>
