<!doctype html>
<html lang="es" data-theme="day">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="meta.title">Marco Antonio Mu√±iz Abad ‚Äî Portafolio</title>
  <meta name="description" data-i18n-content="meta.desc" content="Test & Automation Engineer: ICT/FCT, ASP.NET, WPF, SQL Server, MES/IMES, automatizaci√≥n y trazabilidad." />
  <link rel="icon" href="img/favicon.ico">
  <style>
    /* === Dise√±o base y paleta === */
    :root{
      --bg:#f8fafc;
      --panel:#ffffff;
      --ink:#0b1220;
      --muted:#475569;
      --line:#cbd5e1;
      --acc:#22d3ee;
      --acc-2:#a78bfa;
      --warn:#f59e0b;
      --ok:#34d399;
    }
    *{box-sizing:border-box}
    html{height:100%;scroll-behavior:smooth}
    body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;background:var(--bg);color:var(--ink)}
    a{color:var(--acc);text-decoration:none}
    a:hover{text-decoration:underline}
    img{max-width:100%;display:block}
    .wrap{max-width:1200px;margin:0 auto;padding:0 20px}

    /* === Header sticky con blur === */
    header{position:sticky;top:0;z-index:50;background:rgba(11,18,32,.6);backdrop-filter:blur(10px);border-bottom:1px solid var(--line)}
    nav{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.3px}
    .brand .dot{width:10px;height:10px;border-radius:50%;background:linear-gradient(90deg,var(--acc),var(--acc-2))}
    .links{display:flex;gap:18px;align-items:center}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;background:var(--acc);color:#05131e;font-weight:700;border:none}
    .btn.ghost{background:transparent;border:1px solid var(--line);color:var(--ink)}
    .chip{display:inline-flex;align-items:center;padding:6px 10px;border:1px solid var(--line);border-radius:999px;font-size:12px;color:var(--muted)}
    .lang, .mode{background:transparent;border:1px solid var(--line);color:var(--ink);padding:6px 10px;border-radius:10px}

    /* === Hero === */
    .hero{position:relative;overflow:hidden}
    .hero .inner{display:grid;gap:24px;grid-template-columns:1.1fr .9fr;align-items:center;padding:36px 0 12px}
    .title{font-size:clamp(28px,4.5vw,48px);line-height:1.1;margin:0}
    .lead{color:var(--muted);margin:0}
    .cta{display:flex;gap:12px;flex-wrap:wrap;margin-top:10px}
    .blob{position:absolute;inset:-20% auto auto -10%;width:60vw;height:60vw;filter:blur(80px);background:radial-gradient(circle at 30% 30%,rgba(34,211,238,.25),transparent 60%),radial-gradient(circle at 70% 60%,rgba(167,139,250,.22),transparent 60%);pointer-events:none}
    .avatar{width:140px;height:140px;border-radius:50%;border:2px solid var(--line);background:#0b1220;margin-left:auto}

    /* === Secciones === */
    section{padding:28px 0;scroll-margin-top:80px}
    h2{font-size:22px;margin:0 0 12px}
    .muted{color:var(--muted)}
    .panel{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:16px}

    /* === Skills con barras === */
    .skills{display:grid;gap:16px;grid-template-columns:1fr}
    @media(min-width:960px){.skills{grid-template-columns:1fr 1fr}}
    .bar{height:10px;background:#0b1220;border:1px solid var(--line);border-radius:999px;overflow:hidden}
    .bar>i{display:block;height:100%;background:linear-gradient(90deg,var(--acc),var(--acc-2));width:0}

    /* === Projects: filtros + cards === */
    .filters{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:12px}
    .filters button{border:1px solid var(--line);background:transparent;color:var(--ink);padding:6px 10px;border-radius:999px;cursor:pointer}
    .filters button.active{background:var(--acc);color:#05131e;border-color:transparent}
    .search{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
    .search input{flex:1;min-width:220px;padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:#0b1220;color:var(--ink)}
    .grid{display:grid;gap:16px}
    .cards{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}
    .card{background:var(--panel);border:1px solid var(--line);border-radius:16px;overflow:hidden;display:flex;flex-direction:column}
    .card img{width:100%;height:170px;object-fit:cover}
    .card .body{padding:16px;display:flex;flex-direction:column;gap:8px}
    .badge{display:inline-block;font-size:12px;color:#05131e;background:var(--ok);padding:2px 8px;border-radius:999px;margin-right:6px}
    .row{display:flex;flex-wrap:wrap;gap:8px}
    .tag{font-size:12px;color:var(--muted);border:1px solid var(--line);padding:6px 8px;border-radius:8px}
    .actions{margin-top:8px;display:flex;gap:10px;flex-wrap:wrap}

    /* === Timeline === */
    .timeline{display:grid;gap:14px}
    .item{display:grid;grid-template-columns:120px 1fr;gap:14px;align-items:start}
    .item time{color:var(--muted)}
    .item .bubble{background:var(--panel);border:1px solid var(--line);border-radius:12px;padding:12px}

    /* === Footer === */
    footer{padding:28px 0 48px;color:var(--muted);border-top:1px solid var(--line)}

    /* === Bot√≥n subir === */
    #toTop{position:fixed;right:16px;bottom:16px;display:none;align-items:center;gap:6px;padding:10px 12px;border-radius:999px;border:1px solid var(--line);background:rgba(15,23,42,.75);color:var(--ink)}

    /* === Men√∫ responsive (no superpuesto) === */
    .burger{display:none;align-items:center;justify-content:center;width:40px;height:40px;border:1px solid var(--line);border-radius:10px;background:transparent;color:var(--ink);font-size:20px;cursor:pointer}
    .mobile-menu{display:grid;gap:10px;background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:14px;position:static;margin-top:10px;box-shadow:0 20px 40px rgba(0,0,0,.25)}
    .mobile-menu a{display:block;padding:10px 12px;border:1px solid var(--line);border-radius:10px;color:var(--ink);text-decoration:none}
    .mobile-menu[hidden]{display:none !important}
    @media (max-width: 860px){
      .links{display:none}
      .burger{display:inline-flex}
    }
    @media (min-width: 861px){
      #mobileMenu{display:none !important}
      .links{display:flex}
      .burger{display:none}
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <nav>
        <div class="brand">
          <span class="dot"></span>
          <span data-i18n="brand.title">Marco A. Mu√±iz ‚Äî Portafolio</span>
        </div>
        <button id="menuToggle" class="burger" aria-label="Abrir men√∫" data-i18n-aria-label="aria.open_menu" aria-expanded="false" aria-controls="mobileMenu">‚ò∞</button>
        <div class="links">
          <a href="#proyectos" data-i18n="nav.projects">Proyectos</a>
          <a href="#habilidades" data-i18n="nav.skills">Habilidades</a>
          <a href="#experiencia" data-i18n="nav.experience">Experiencia</a>
          <a href="#contacto" data-i18n="nav.contact">Contacto</a>
          <button id="lang" class="lang" aria-label="Cambiar idioma" data-i18n-aria-label="aria.lang">ES</button>
          <button id="mode" class="mode" aria-label="Tema" data-i18n-aria-label="aria.theme">üåô</button>
          <a class="btn" href="cv/CV_Marco Antonio Muniz Abad.pdf" target="_blank" rel="noopener" data-i18n="nav.download_cv">Descargar CV</a>
        </div>
      </nav>
      <!-- Men√∫ m√≥vil (sin ids duplicados) -->
      <div id="mobileMenu" class="mobile-menu" hidden>
        <a href="#proyectos" data-i18n="nav.projects">Proyectos</a>
        <a href="#habilidades" data-i18n="nav.skills">Habilidades</a>
        <a href="#experiencia" data-i18n="nav.experience">Experiencia</a>
        <a href="#contacto" data-i18n="nav.contact">Contacto</a>
        <a class="btn" href="cv/Marco_Antonio_Muniz_Abad_CV.pdf" target="_blank" rel="noopener" data-i18n="nav.download_cv">Descargar CV</a>
      </div>
    </div>
  </header>

  <div class="hero">
    <div class="blob" aria-hidden="true"></div>
    <div class="wrap inner">
      <div>
        <span class="chip" data-i18n="hero.role">Test & Automation Engineer</span>
        <h1 class="title" id="t1" data-i18n="hero.name">Marco Antonio Mu√±iz Abad</h1>
        <p class="lead" id="t2" data-i18n="hero.lead">ICT/FCT, ASP.NET & WPF, SQL Server/SQLite, endpoints MES/IMES, automatizaci√≥n y trazabilidad. Enfoque en FPY, SPC y mejora continua.</p>
        <div class="cta">
          <a class="btn" href="#proyectos" id="t3" data-i18n="hero.cta.projects">Ver proyectos</a>
          <a class="btn ghost" href="#contacto" id="t4" data-i18n="hero.cta.contact">Contactar</a>
        </div>
      </div>
      <div>
        <img class="avatar" data-i18n-alt="alt.avatar" alt="Avatar" src="img/avatar.png" />
      </div>
    </div>
  </div>

  <main class="wrap">
    <!-- Habilidades -->
    <section id="habilidades">
      <h2 id="t5" data-i18n="sections.skills">Habilidades principales</h2>
      <div class="skills">
        <div class="panel">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <strong>ICT / FCT / FVT</strong>
            <span class="muted" data-i18n="level.mid_advanced">Intermedio-Avanzado</span>
          </div>
          <div class="bar"><i style="width:75%"></i></div>
        </div>
        <div class="panel">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <strong>ASP.NET / C#</strong>
            <span class="muted" data-i18n="level.advanced">Avanzado</span>
          </div>
          <div class="bar"><i style="width:85%"></i></div>
        </div>
        <div class="panel">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <strong>WPF / MVVM</strong>
            <span class="muted" data-i18n="level.advanced">Avanzado</span>
          </div>
          <div class="bar"><i style="width:90%"></i></div>
        </div>
        <div class="panel">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <strong>SQL Server / SQLite</strong>
            <span class="muted" data-i18n="level.mid_advanced">Intermedio-Avanzado</span>
          </div>
          <div class="bar"><i style="width:75%"></i></div>
        </div>
        <div class="panel">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <strong>MES / IMES (REST)</strong>
            <span class="muted" data-i18n="level.mid">Intermedio</span>
          </div>
          <div class="bar"><i style="width:65%"></i></div>
        </div>
        <div class="panel">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <strong>Java / Python / C# / C++</strong>
            <span class="muted" data-i18n="level.mid_advanced">Intermedio-Avanzado</span>
          </div>
          <div class="bar"><i style="width:75%"></i></div>
        </div>
      </div>
    </section>

    <!-- Proyectos -->
    <section id="proyectos">
      <h2 id="t6" data-i18n="sections.projects">Proyectos destacados</h2>
      <div class="panel">
        <div class="search">
          <input id="q" type="search"
            placeholder="Buscar proyecto (ej. SQL, WPF, ICT)"
            aria-label="Buscar proyecto"
            data-i18n-placeholder="search.placeholder"
            data-i18n-aria-label="search.aria" />
        </div>
        <div class="filters" role="tablist" aria-label="Filtros de proyectos" data-i18n-aria-label="filters.aria">
          <button class="active" data-filter="all" data-i18n="filters.all">Todos</button>
          <button data-filter="aspnet" data-i18n="filters.aspnet">ASP.NET</button>
          <button data-filter="wpf" data-i18n="filters.wpf">WPF</button>
          <button data-filter="testing" data-i18n="filters.testing">Testing</button>
          <button data-filter="sql" data-i18n="filters.sql">SQL</button>
          <button data-filter="mes" data-i18n="filters.mes">MES/IMES</button>
        </div>

        <div class="grid cards" id="cards">
          <!-- Registro de falla ICT -->
          <article class="card" data-tags="testing ict">
            <img data-i18n-alt="alt.ict1" alt="ICT Proyecto Ticket Fallas" src="img/ICT-proyecto1-main.png" />
            <div class="body">
              <div><span class="badge" style="background:var(--ok)" data-i18n="cards.testing.badge">Testing</span></div>
              <h3 data-i18n="cards.ict1.title">ICT Ticket Fallas</h3>
              <p class="muted" data-i18n="cards.ict1.desc">ICT, Disminucion de tiempos de analisis con tickets de falla autom√°ticos.</p>
              <div class="row">
                <span class="tag" data-i18n="tags.ict">ICT</span>
                <span class="tag" data-i18n="tags.programming">Programaci√≥n</span>
                <span class="tag" data-i18n="tags.keysight">Keysight</span>
              </div>
              <div class="actions"><a class="btn" href="proyectos/proyecto-ICT-1.html" data-i18n="cards.cta">Caso completo</a></div>
            </div>
          </article>

          <!-- Validaci√≥n Goldens ICT -->
          <article class="card" data-tags="testing ict">
            <img data-i18n-alt="alt.ict2" alt="ICT Proyecto Piezas de Confianza" src="img/ICT-proyecto2-main.png" />
            <div class="body">
              <div><span class="badge" style="background:var(--ok)" data-i18n="cards.testing.badge">Testing</span></div>
              <h3 data-i18n="cards.ict2.title">ICT Validaci√≥n de Estaci√≥n</h3>
              <p class="muted" data-i18n="cards.ict2.desc">ICT, Validaci√≥n de estaci√≥n con piezas de confianza.</p>
              <div class="row">
                <span class="tag" data-i18n="tags.ict">ICT</span>
                <span class="tag" data-i18n="tags.programming">Programaci√≥n</span>
                <span class="tag" data-i18n="tags.keysight">Keysight</span>
              </div>
              <div class="actions"><a class="btn" href="proyectos/proyecto-ICT-2.html" data-i18n="cards.cta">Caso completo</a></div>
            </div>
          </article>

          <!-- Escaneo Digital Test ICT -->
          <article class="card" data-tags="testing ict">
            <img data-i18n-alt="alt.ict3" alt="ICT Proyecto Piezas de Confianza" src="img/ICT-proyecto3-main.png" />
            <div class="body">
              <div><span class="badge" style="background:var(--ok)" data-i18n="cards.testing.badge">Testing</span></div>
              <h3 data-i18n="cards.ict3.title">Escaneo Automatico ICT</h3>
              <p class="muted" data-i18n="cards.ict3.desc">ICT, Escaneo automatico y manual ICT.</p>
              <div class="row">
                <span class="tag" data-i18n="tags.ict">ICT</span>
                <span class="tag" data-i18n="tags.programming">Programaci√≥n</span>
                <span class="tag" data-i18n="tags.keysight">Keysight</span>
              </div>
              <div class="actions"><a class="btn" href="proyectos/proyecto-ICT-3.html" data-i18n="cards.cta">Caso completo</a></div>
            </div>
          </article>

          <!-- Ejemplo depuraci√≥n ICT -->
          <article class="card" data-tags="testing ict">
            <img data-i18n-alt="alt.ictdebug" alt="ICT Mejora de CPK" src="img/ICT-depuracion-main.png" />
            <div class="body">
              <div><span class="badge" style="background:var(--ok)" data-i18n="cards.testing.badge">Testing</span></div>
              <h3 data-i18n="cards.ictdebug.title">ICT Mejora de CPK</h3>
              <p class="muted" data-i18n="cards.ictdebug.desc">ICT, Mejora de CPK.</p>
              <div class="row">
                <span class="tag" data-i18n="tags.ict">ICT</span>
                <span class="tag" data-i18n="tags.programming">Programaci√≥n</span>
                <span class="tag" data-i18n="tags.keysight">Keysight</span>
              </div>
              <div class="actions"><a class="btn" href="proyectos/proyecto-ICT-depuracion.html" data-i18n="cards.cta">Caso completo</a></div>
            </div>
          </article>
		  
		  <!-- TOP 10 FALLSA EN ICT -->
          <article class="card" data-tags="testing ict">
            <img data-i18n-alt="alt.ictdebug" alt="ICT Programa Top 10 Fallas" src="img/proyecto-ICT-4-main.png" />
            <div class="body">
              <div><span class="badge" style="background:var(--ok)" data-i18n="cards.testing.badge">Testing</span></div>
              <h3 data-i18n="cards.ictdebug.title">ICT Programa Top 10 Fallas</h3>
              <p class="muted" data-i18n="cards.ictdebug.desc">ICT Programa Top 10 Fallas</p>
              <div class="row">
                <span class="tag" data-i18n="tags.ict">ICT</span>
                <span class="tag" data-i18n="tags.programming">Programaci√≥n</span>
                <span class="tag" data-i18n="tags.keysight">Keysight</span>
              </div>
              <div class="actions"><a class="btn" href="proyectos/proyecto-ICT-4.html" data-i18n="cards.cta">Caso completo</a></div>
            </div>
          </article>

          <!-- Control Conveyor WPF -->
          <article class="card" data-tags="wpf mes">
            <img data-i18n-alt="alt.conveyor" alt="WPF Conveyor" src="img/proyecto4-main.png" />
            <div class="body">
              <div><span class="badge" style="background:var(--warn)" data-i18n="cards.desktop.badge">Desktop</span></div>
              <h3 data-i18n="cards.conveyor.title">Control de Conveyor ‚Äî App WPF (C#)</h3>
              <p class="muted" data-i18n="cards.conveyor.desc">Validaci√≥n y control de flujo; endpoints hacia MES/IMES; reglas y estados.</p>
              <div class="row">
                <span class="tag" data-i18n="tags.wpf">WPF</span>
                <span class="tag" data-i18n="tags.csharp">C#</span>
                <span class="tag" data-i18n="tags.mesimes">MES/IMES</span>
              </div>
              <div class="actions"><a class="btn" href="proyectos/control-conveyor-wpf.html" data-i18n="cards.cta">Caso completo</a></div>
            </div>
          </article>

          <!-- Registro de Operadores -->
          <article class="card" data-tags="aspnet sql mes">
            <img data-i18n-alt="alt.operators" alt="ASP.NET y SQL Server" src="img/proyecto5-main.png" />
            <div class="body">
              <div><span class="badge" data-i18n="cards.software.badge">Software</span></div>
              <h3 data-i18n="cards.operators.title">Registro de Operadores (ASP.NET + SQL Server)</h3>
              <p class="muted" data-i18n="cards.operators.desc">Entradas/salidas, pausas, turnos autom√°ticos, tablero en tiempo real y reportes (EPPlus).</p>
              <div class="row">
                <span class="tag">ASP.NET</span>
                <span class="tag" data-i18n="tags.sqlserver">SQL Server</span>
                <span class="tag" data-i18n="tags.epplus">EPPlus</span>
              </div>
              <div class="actions"><a class="btn" href="proyectos/registro-operadores.html" data-i18n="cards.cta">Caso completo</a></div>
            </div>
          </article>
		  
		  

        </div>
      </div>
    </section>

    <!-- Experiencia (timeline) -->
    <section id="experiencia">
      <h2 id="t7" data-i18n="sections.experience">Experiencia</h2>
      <div class="timeline">
        <div class="item">
          <time>2024 ‚Äî Actual</time>
          <div class="bubble">
            <strong data-i18n="exp.bcs.title">BCS Automotive Interface Solutions ‚Äî Test Engineer</strong>
            <p class="muted" data-i18n="exp.bcs.desc">ICT/FCT en producci√≥n, sistema Andon automatizado (MTTR/MTBF), scripts de tickets y soporte a proveedores.</p>
          </div>
        </div>
        <div class="item">
          <time>2023 ‚Äî 2024</time>
          <div class="bubble">
            <strong data-i18n="exp.kostal.title">Kostal Mexicana ‚Äî Soporte/Desarrollo</strong>
            <p class="muted" data-i18n="exp.kostal.desc">Bases de datos y trazabilidad en ASP.NET/SQL; estaci√≥n flexible para microcontroladores.</p>
          </div>
        </div>
        <div class="item">
          <time>2022</time>
          <div class="bubble">
            <strong data-i18n="exp.tramec.title">Tramec Quer√©taro ‚Äî Programador PLC, Variadores de Frecuencia, Servomotores</strong>
            <p class="muted" data-i18n="exp.tramec.desc">Programaci√≥n PLC Delta; Variadores de Frecuencia; Pruebas el√©ctricas finales.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Contacto -->
    <section id="contacto">
      <h2 id="t8" data-i18n="sections.contact">Contacto</h2>
      <div class="panel" style="display:grid;gap:12px;grid-template-columns:1fr;max-width:760px">
        <p class="muted" data-i18n="contact.pitch">¬øTe interesa colaborar? Escr√≠beme o agenda una llamada.</p>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <a class="btn" href="mailto:marcomunizabad@outlook.com" data-i18n="contact.email">Email</a>
          <a class="btn ghost" href="https://www.linkedin.com/in/marco-antonio-mu%C3%B1iz-abad-37b94721a/" target="_blank" rel="noopener" data-i18n="contact.linkedin">LinkedIn</a>
        </div>
      </div>
    </section>
  </main>

  <div id="toTop" data-i18n="ui.toTop">‚ñ≤ Arriba</div>

  <footer>
    <div class="wrap">¬© <span id="year"></span> <span data-i18n="footer.name">Marco Antonio Mu√±iz Abad</span> ¬∑ <span data-i18n="footer.made">Hecho con HTML/CSS/JS</span> ¬∑ <span data-i18n="footer.host">Publicado en GitHub Pages</span></div>
  </footer>

  <script>
    // A√±o din√°mico
    document.getElementById('year').textContent = new Date().getFullYear();

    // ===== Tema claro/oscuro =====
    const modeBtn = document.getElementById('mode');
    function applyTheme(isDark){
      document.documentElement.style.setProperty('--bg', isDark?'#0b1220':'#f8fafc');
      document.documentElement.style.setProperty('--panel', isDark?'#0f172a':'#ffffff');
      document.documentElement.style.setProperty('--ink', isDark?'#e6edf3':'#0b1220');
      document.documentElement.style.setProperty('--muted', isDark?'#98a2b3':'#475569');
      document.documentElement.style.setProperty('--line', isDark?'#22314c':'#cbd5e1');
      document.documentElement.dataset.theme = isDark?'dark':'light';
      if (modeBtn) modeBtn.textContent = isDark?'üåô':'‚òÄÔ∏è';
    }
    (function initTheme(){
      const saved = localStorage.getItem('theme');
      let isDark;
      if (saved === 'dark') isDark = true; else if (saved === 'light') isDark = false; else {
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const h = new Date().getHours();
        const hourDark = (h >= 19 || h < 7);
        isDark = prefersDark || hourDark;
      }
      applyTheme(isDark);
    })();
    if (modeBtn){
      modeBtn.addEventListener('click', ()=>{
        const nowDark = (document.documentElement.dataset.theme !== 'dark');
        applyTheme(nowDark);
        localStorage.setItem('theme', nowDark ? 'dark' : 'light');
      });
    }

    // ===== B√∫squeda y filtros de proyectos =====
    const q = document.getElementById('q');
    const cards = Array.from(document.querySelectorAll('#cards .card'));
    const filterBtns = Array.from(document.querySelectorAll('.filters button'));
    let currentFilter = 'all';
    function applyFilters(){
      const term = (q && q.value||'').toLowerCase();
      cards.forEach(card=>{
        const tags = (card.dataset.tags||'').toLowerCase();
        const text = card.innerText.toLowerCase();
        const matchFilter = currentFilter==='all' || tags.includes(currentFilter);
        const matchTerm = !term || text.includes(term);
        card.style.display = matchFilter && matchTerm ? '' : 'none';
      });
    }
    if (q) q.addEventListener('input', applyFilters);
    filterBtns.forEach(btn=>btn.addEventListener('click', ()=>{
      filterBtns.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      currentFilter = btn.dataset.filter;
      applyFilters();
    }));

    // ===== Bot√≥n subir =====
    const toTop = document.getElementById('toTop');
    window.addEventListener('scroll', ()=>{
      if (toTop) toTop.style.display = window.scrollY>500 ? 'inline-flex' : 'none';
    });
    if (toTop) toTop.addEventListener('click', ()=>window.scrollTo({top:0,behavior:'smooth'}));

    // ===== i18n =====
    const i18n = {
      es: {
        // Meta & brand
        "meta.title":"Marco Antonio Mu√±iz Abad ‚Äî Portafolio",
        "meta.desc":"Test & Automation Engineer: ICT/FCT, ASP.NET, WPF, SQL Server, MES/IMES, automatizaci√≥n y trazabilidad.",
        "brand.title":"Marco A. Mu√±iz ‚Äî Portafolio",

        // NAV + Hero + Sections
        "nav.projects":"Proyectos","nav.skills":"Habilidades","nav.experience":"Experiencia","nav.contact":"Contacto","nav.download_cv":"Descargar CV",
        "hero.role":"Test & Automation Engineer","hero.name":"Marco Antonio Mu√±iz Abad",
        "hero.lead":"ICT/FCT, ASP.NET & WPF, SQL Server/SQLite, endpoints MES/IMES, automatizaci√≥n y trazabilidad. Enfoque en FPY, SPC y mejora continua.",
        "hero.cta.projects":"Ver proyectos","hero.cta.contact":"Contactar",
        "sections.skills":"Habilidades principales","sections.projects":"Proyectos destacados","sections.experience":"Experiencia","sections.contact":"Contacto",

        // Levels
        "level.mid_advanced":"Intermedio-Avanzado","level.advanced":"Avanzado","level.mid":"Intermedio",

        // Search + Filters + ARIA
        "search.placeholder":"Buscar proyecto (ej. SQL, WPF, ICT)","search.aria":"Buscar proyecto",
        "filters.aria":"Filtros de proyectos","filters.all":"Todos","filters.aspnet":"ASP.NET","filters.wpf":"WPF","filters.testing":"Testing","filters.sql":"SQL","filters.mes":"MES/IMES",
        "aria.open_menu":"Abrir men√∫","aria.theme":"Tema","aria.lang":"Cambiar idioma",

        // Tags
        "tags.ict":"ICT","tags.programming":"Programaci√≥n","tags.keysight":"Keysight","tags.wpf":"WPF","tags.csharp":"C#","tags.mesimes":"MES/IMES","tags.sqlserver":"SQL Server","tags.epplus":"EPPlus",

        // Cards
        "cards.testing.badge":"Testing","cards.desktop.badge":"Desktop","cards.software.badge":"Software",
        "cards.ict1.title":"ICT Ticket Fallas","cards.ict1.desc":"ICT, Disminucion de tiempos de analisis con tickets de falla autom√°ticos.",
        "cards.ict2.title":"ICT Validaci√≥n de Estaci√≥n","cards.ict2.desc":"ICT, Validaci√≥n de estaci√≥n con piezas de confianza.",
        "cards.ict3.title":"Escaneo Automatico ICT","cards.ict3.desc":"ICT, Escaneo automatico y manual ICT.",
        "cards.ictdebug.title":"ICT Ejemplo de Depuracion","cards.ictdebug.desc":"ICT, Ejemplo de Depuracion.",
        "cards.conveyor.title":"Control de Conveyor ‚Äî App WPF (C#)","cards.conveyor.desc":"Validaci√≥n y control de flujo; endpoints hacia MES/IMES; reglas y estados.",
        "cards.operators.title":"Registro de Operadores (ASP.NET + SQL Server)","cards.operators.desc":"Entradas/salidas, pausas, turnos autom√°ticos, tablero en tiempo real y reportes (EPPlus).",
        "cards.cta":"Caso completo",

        // Alts
        "alt.avatar":"Avatar",
        "alt.ict1":"ICT Proyecto Ticket Fallas",
        "alt.ict2":"ICT Proyecto Piezas de Confianza",
        "alt.ict3":"ICT Escaneo Autom√°tico",
        "alt.ictdebug":"ICT Ejemplo de Depuraci√≥n",
        "alt.conveyor":"WPF Conveyor",
        "alt.operators":"ASP.NET y SQL Server",

        // Experience
        "exp.bcs.title":"BCS Automotive Interface Solutions ‚Äî Test Engineer",
        "exp.bcs.desc":"ICT/FCT en producci√≥n, sistema Andon automatizado (MTTR/MTBF), scripts de tickets y soporte a proveedores.",
        "exp.kostal.title":"Kostal Mexicana ‚Äî Soporte/Desarrollo",
        "exp.kostal.desc":"Bases de datos y trazabilidad en ASP.NET/SQL; estaci√≥n flexible para microcontroladores.",
        "exp.tramec.title":"Tramec Quer√©taro ‚Äî Programador PLC, Variadores de Frecuencia, Servomotores",
        "exp.tramec.desc":"Programaci√≥n PLC Delta; Variadores de Frecuencia; Pruebas el√©ctricas finales.",

        // Contact + UI + Footer
        "contact.pitch":"¬øTe interesa colaborar? Escr√≠beme o agenda una llamada.","contact.email":"Email","contact.linkedin":"LinkedIn",
        "ui.toTop":"‚ñ≤ Arriba",
        "footer.name":"Marco Antonio Mu√±iz Abad","footer.made":"Hecho con HTML/CSS/JS","footer.host":"Publicado en GitHub Pages"
      },
      en: {
        // Meta & brand
        "meta.title":"Marco Antonio Mu√±iz Abad ‚Äî Portfolio",
        "meta.desc":"Test & Automation Engineer: ICT/FCT, ASP.NET, WPF, SQL Server, MES/IMES, automation and traceability.",
        "brand.title":"Marco A. Mu√±iz ‚Äî Portfolio",

        // NAV + Hero + Sections
        "nav.projects":"Projects","nav.skills":"Skills","nav.experience":"Experience","nav.contact":"Contact","nav.download_cv":"Download CV",
        "hero.role":"Test & Automation Engineer","hero.name":"Marco Antonio Mu√±iz Abad",
        "hero.lead":"ICT/FCT, ASP.NET & WPF, SQL Server/SQLite, MES/IMES endpoints, automation and traceability. Focus on FPY, SPC and continuous improvement.",
        "hero.cta.projects":"See projects","hero.cta.contact":"Contact",
        "sections.skills":"Core skills","sections.projects":"Featured projects","sections.experience":"Experience","sections.contact":"Contact",

        // Levels
        "level.mid_advanced":"Intermediate-Advanced","level.advanced":"Advanced","level.mid":"Intermediate",

        // Search + Filters + ARIA
        "search.placeholder":"Search project (e.g., SQL, WPF, ICT)","search.aria":"Search project",
        "filters.aria":"Project filters","filters.all":"All","filters.aspnet":"ASP.NET","filters.wpf":"WPF","filters.testing":"Testing","filters.sql":"SQL","filters.mes":"MES/IMES",
        "aria.open_menu":"Open menu","aria.theme":"Theme","aria.lang":"Change language",

        // Tags
        "tags.ict":"ICT","tags.programming":"Programming","tags.keysight":"Keysight","tags.wpf":"WPF","tags.csharp":"C#","tags.mesimes":"MES/IMES","tags.sqlserver":"SQL Server","tags.epplus":"EPPlus",

        // Cards
        "cards.testing.badge":"Testing","cards.desktop.badge":"Desktop","cards.software.badge":"Software",
        "cards.ict1.title":"ICT Failure Tickets","cards.ict1.desc":"ICT, Reduced analysis time with automatic failure tickets.",
        "cards.ict2.title":"ICT Station Validation","cards.ict2.desc":"ICT, Station validation with golden units.",
        "cards.ict3.title":"Automatic ICT Scanning","cards.ict3.desc":"ICT, Automatic and manual ICT scanning.",
        "cards.ictdebug.title":"ICT Debug Example","cards.ictdebug.desc":"ICT, Debug example.",
        "cards.conveyor.title":"Conveyor Control ‚Äî WPF App (C#)","cards.conveyor.desc":"Flow validation & control; MES/IMES endpoints; rules and states.",
        "cards.operators.title":"Operator Registry (ASP.NET + SQL Server)","cards.operators.desc":"Check-in/out, breaks, auto shifts, real-time board & reports (EPPlus).",
        "cards.cta":"Case study",

        // Alts
        "alt.avatar":"Avatar",
        "alt.ict1":"ICT Failure Tickets",
        "alt.ict2":"ICT Golden Units Validation",
        "alt.ict3":"Automatic ICT Scanning",
        "alt.ictdebug":"ICT Debug Example",
        "alt.conveyor":"WPF Conveyor",
        "alt.operators":"ASP.NET & SQL Server",

        // Experience
        "exp.bcs.title":"BCS Automotive Interface Solutions ‚Äî Test Engineer",
        "exp.bcs.desc":"ICT/FCT in production, automated Andon system (MTTR/MTBF), ticket scripts and supplier support.",
        "exp.kostal.title":"Kostal Mexicana ‚Äî Support/Development",
        "exp.kostal.desc":"Databases and traceability in ASP.NET/SQL; flexible microcontroller station.",
        "exp.tramec.title":"Tramec Quer√©taro ‚Äî PLC, VFDs, Servomotors Programmer",
        "exp.tramec.desc":"Delta PLC programming; VFDs; final electrical tests.",

        // Contact + UI + Footer
        "contact.pitch":"Interested in collaborating? Email me or schedule a call.","contact.email":"Email","contact.linkedin":"LinkedIn",
        "ui.toTop":"‚ñ≤ Top",
        "footer.name":"Marco Antonio Mu√±iz Abad","footer.made":"Built with HTML/CSS/JS","footer.host":"Hosted on GitHub Pages"
      }
    };

    // Aplica texto a elementos y atributos
    function applyI18nText(root=document){
      // Element text
      root.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        if (i18n[lang][key]) el.textContent = i18n[lang][key];
      });
      // Common attributes
      const attrKeys = ['title','placeholder','aria-label','content','alt'];
      attrKeys.forEach(attr=>{
        root.querySelectorAll(`[data-i18n-${attr}]`).forEach(el=>{
          const key = el.getAttribute(`data-i18n-${attr}`);
          if (i18n[lang][key]) el.setAttribute(attr, i18n[lang][key]);
        });
      });
      // Actualiza <title> del documento si tiene data-i18n
      const t = document.querySelector('title[data-i18n]');
      if (t && i18n[lang][t.getAttribute('data-i18n')]) {
        document.title = i18n[lang][t.getAttribute('data-i18n')];
      }
      // Actualiza meta description
      const md = document.querySelector('meta[name="description"][data-i18n-content]');
      if (md) {
        const key = md.getAttribute('data-i18n-content');
        if (i18n[lang][key]) md.setAttribute('content', i18n[lang][key]);
      }
    }

    // Estado de idioma
    const langBtn = document.getElementById('lang');
    let lang = localStorage.getItem('lang') || 'es';

    function updateLangUI(){
      document.documentElement.setAttribute('lang', lang);
      if (langBtn) langBtn.textContent = (lang === 'es' ? 'ES' : 'EN');
      applyI18nText(document);
    }

    // Inicializa
    updateLangUI();

    // Toggle idioma
    if (langBtn){
      langBtn.addEventListener('click', ()=>{
        lang = (lang === 'es') ? 'en' : 'es';
        localStorage.setItem('lang', lang);
        updateLangUI();
      });
    }

    // ===== Men√∫ m√≥vil (toggle + autocerrar) =====
    const menuBtn = document.getElementById('menuToggle');
    const mobileMenu = document.getElementById('mobileMenu');
    if (menuBtn && mobileMenu){
      menuBtn.addEventListener('click', ()=>{
        const isHidden = mobileMenu.hasAttribute('hidden');
        if (isHidden) mobileMenu.removeAttribute('hidden'); else mobileMenu.setAttribute('hidden','');
        menuBtn.setAttribute('aria-expanded', String(isHidden));
      });
      mobileMenu.querySelectorAll('a[href^="#"]').forEach(a=>{
        a.addEventListener('click', ()=>{
          mobileMenu.setAttribute('hidden','');
          menuBtn.setAttribute('aria-expanded','false');
        });
      });
      window.addEventListener('scroll', ()=>{
        if (!mobileMenu.hasAttribute('hidden')){
          mobileMenu.setAttribute('hidden','');
          menuBtn.setAttribute('aria-expanded','false');
        }
      }, { passive:true });
    }
  </script>
</body>
</html>
